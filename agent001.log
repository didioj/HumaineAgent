C:\Users\lingc\OneDrive\Documents\RPI\Fall_2020\CognitiveComputing\HumaineAgent>flask run --port 14008
 * Serving Flask app "agent-py.py"
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:14008/ (Press CTRL+C to quit)
- Entering setUtility
- Info received: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.4}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.95}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.53}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.31}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.21}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.4}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.38}}}, 'name': 'Celia'}
- Message sending: {'status': 'Acknowledged', 'utility': {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.4}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.95}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.53}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.31}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.21}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.4}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.38}}}, 'name': 'Celia'}}
127.0.0.1 - - [01/Dec/2020 23:58:54] "[37mPOST /setUtility HTTP/1.1[0m" 200 -
- Entering startRound
- Info received: {'roundDuration': 300, 'roundNumber': 1, 'timestamp': '2020-12-02T04:58:58.738Z'}
- Returning message: {'status': 'Acknowledged'}
127.0.0.1 - - [01/Dec/2020 23:58:58] "[37mPOST /startRound HTTP/1.1[0m" 200 -
- Entering receiveMessage
- Remaining Time: 297.87628271484374
- Info received: {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}
- Entering processMessage
- Received message: {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'I want to buy 2 eggs', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9517610549926758}], 'entities': [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9517610549926758}], 'entities': [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.9517610549926758}], 'entities': [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}, 'addressee': '', 'speaker': 'Human'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.9517610549926758}], 'entities': [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}, 'addressee': '', 'speaker': 'Human'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.9517610549926758}], 'entities': [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}, 'addressee': '', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.9517610549926758}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}]
- input from watsonResponse: {'speaker': 'Human', 'addressee': '', 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857}
- intents:  [{'intent': 'Offer', 'confidence': 0.9517610549926758}]
- entities:  [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}]
- Found entities: []
- entered extractPrice
- entities given: []
- Returning price: None
- Received price: None
- Returning offer: {'quantity': {'egg': 2}, 'price': None}
- entered extractAddressee
- Received entities: [{'entity': 'sys-number', 'location': [14, 15], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [16, 20], 'value': 'egg', 'confidence': 1}]
- cmd leaving interpretMessage: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- Received interpretation: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- Message from buyer not addressed to me. Need to wait for other agent to respond
- Added to bidHistory: {'Human': [{'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}]}
- Human's history: [{'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}]
- Most recent human history: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- Most recent human history should be: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- No change to bidHistory. Going to make offer
- Entering bulkPriceMessage
- received interpretation: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- Entering generateBid
- Received offer: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- BidBlock: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- BidBlock['type']: BuyRequest
- Recent offers: []
- Last price: None
- Last offer: None
- Remaining time: 293.3507712402344
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.4}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.95}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.53}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.31}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.21}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.4}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.38}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- no currency units provided
- Returning utility: -0.8
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.4}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.95}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.53}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.31}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.21}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.4}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.38}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- no currency units provided
- Returning utility: -0.8
- Total items: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- Total cost of items (should be negative): -0.8
- Utility received: -0.8
- Buyer did not propose price or other agent made an offer. Going to generate price
- No history of any SellOffers. Going to propose price
- Going to markup price by 2.9587206533728074
- Entering quantize
- Received quantity: 1.566976522698246
- Received decimals: 2
- Returning value: 1.57
- Returning bid: {'quantity': {'egg': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 1.57}}
- scale: 3
- Entering generateBid
- Received offer: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- BidBlock: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- BidBlock['type']: BuyRequest
- BidBlock: {'quantity': {'egg': 6}, 'type': 'NormalBulkOffer', 'metadata': {'speaker': 'Celia', 'addressee': 'Human', 'text': 'Placeholder for bulkPriceMessage', 'role': 'seller'}, 'price': {'unit': 'USD', 'value': 4.71}}
- BidBlock['type']: NormalBulkOffer
- Recent offers: []
- Last price: None
- Last offer: None
- Remaining time: 293.3234289550781
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.4}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.95}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.53}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.31}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.21}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.4}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.38}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- no currency units provided
- Returning utility: -2.4000000000000004
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.4}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.95}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.53}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.31}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.21}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.4}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.38}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- no currency units provided
- Returning utility: -2.4000000000000004
- Total items: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- Total cost of items (should be negative): -2.4000000000000004
- Utility received: -2.4000000000000004
- Buyer did not propose price or other agent made an offer. Going to generate price
- No history of any SellOffers. Going to propose price
- Going to markup price by 2.2862822514218277
- Entering quantize
- Received quantity: 3.087077403412387
- Received decimals: 2
- Returning value: 3.09
- Returning bid: {'quantity': {'egg': 6}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 3.09}}
- interpretation: {'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- bulk_interpretation: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
- basic_bid: {'quantity': {'egg': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 1.57}}
- normal_bulk_bid: {'quantity': {'egg': 6}, 'type': 'NormalBulkOffer', 'metadata': {'speaker': 'Celia', 'addressee': 'Human', 'text': 'Placeholder for bulkPriceMessage', 'role': 'seller'}, 'price': {'unit': 'USD', 'value': 4.71}}
- bulk_bid: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'price': {'unit': 'USD', 'value': 3.09}}
- Entering quantize
- Received quantity: 1.62
- Received decimals: 2
- Returning value: 1.62
- Entering translateBid
- Received bid: {'quantity': {'egg': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 1.57}}
- Received confirm: False
- bid is a SellOffer
- Returning response: How about if I sell you 2 egg for 1.57 USD.
- Entering translateBid
- Received bid: {'quantity': {'egg': 6}, 'type': 'GoodPrice', 'price': {'unit': 'USD', 'value': 3.09}}
- Received confirm: False
- Returning response:  6 egg for 3.09 USD.
- Bid message from processMessage: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- Sending message: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- Sending message to orchestrator: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- Entering receiveMessage
- Remaining Time: 293.2822414550781
- Info received: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- This message is from me!
- Entering processMessage
- Received message: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.507118320465088}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.507118320465088}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.507118320465088}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}, 'addressee': 'Human', 'speaker': 'Celia'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.507118320465088}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}, 'addressee': 'Human', 'speaker': 'Celia'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.507118320465088}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}, 'addressee': 'Human', 'speaker': 'Celia', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.507118320465088}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}]
- input from watsonResponse: {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None}
- intents:  [{'intent': 'Offer', 'confidence': 0.507118320465088}]
- entities:  [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}]
- keywords: ['special discounted bulk deal', 'special discounted bulk deal']
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [24, 25], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1}, {'entity': 'sys-number', 'location': [99, 100], 'value': '6', 'confidence': 1, 'metadata': {'numeric_value': 6}, 'interpretation': {'numeric_value': 6, 'subtype': 'integer'}}, {'entity': 'good', 'location': [101, 104], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7}]
- Found entities: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}, 'index': 2}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1, 'index': 3}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}, 'index': 6}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}, 'index': 7}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7, 'index': 8}]
- entered extractPrice
- entities given: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '1.57', 'confidence': 1, 'metadata': {'numeric_value': 1.57, 'unit': 'USD'}, 'interpretation': {'numeric_value': 1.57, 'unit': 'USD'}, 'index': 2}, {'entity': 'keyword', 'location': [67, 95], 'value': 'special discounted bulk deal', 'confidence': 1, 'index': 3}, {'entity': 'sys-currency', 'location': [109, 117], 'value': '3.09', 'confidence': 1, 'metadata': {'numeric_value': 3.09, 'unit': 'USD'}, 'interpretation': {'numeric_value': 3.09, 'unit': 'USD'}, 'index': 6}, {'entity': 'sys-number', 'location': [127, 131], 'value': '1.62', 'confidence': 1, 'metadata': {'numeric_value': 1.62}, 'interpretation': {'numeric_value': 1.62, 'subtype': 'rational'}, 'index': 7}, {'entity': 'keyword', 'location': [181, 190], 'value': 'special discounted bulk deal', 'confidence': 0.7, 'index': 8}]
- Returning price: {'value': 3.09, 'unit': 'USD'}
- Received price: {'value': 3.09, 'unit': 'USD'}
- Returning offer: {'quantity': {'egg': 6}, 'price': {'value': 3.09, 'unit': 'USD'}}
- cmd leaving interpretMessage: {'quantity': {'egg': 6}, 'price': {'value': 3.09, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None, 'timeStamp': 1606885145.97189}, 'keywords': ['special discounted bulk deal', 'special discounted bulk deal']}
- Received interpretation: {'quantity': {'egg': 6}, 'price': {'value': 3.09, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None, 'timeStamp': 1606885145.97189}, 'keywords': ['special discounted bulk deal', 'special discounted bulk deal']}
- Received own message
- Adding message to bidHistory
- bidHistory: {'Human': [{'quantity': {'egg': 2}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}, 
{'quantity': {'egg': 6}, 'type': 'NormalBulkOffer', 'metadata': {'speaker': 'Celia', 'addressee': 'Human', 'text': 'Placeholder for bulkPriceMessage', 'role': 'seller'}, 'price': {'unit': 'USD', 'value': 4.71}}, 
{'quantity': {'egg': 6}, 'price': {'value': 3.09, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None, 'timeStamp': 1606885145.97189}, 'keywords': ['special discounted bulk deal', 'special discounted bulk deal']}]}
- Bid message from processMessage: None
- Returning response: {'status': 'Acknowledged', 'interpretation': {'text': 'How about if I sell you 2 egg for 1.57 USD. I can also offer you a special discounted bulk deal of 6 egg for 3.09 USD. That is 1.62 off the normal price!  Are you interested in the bulk deal?', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606885145447.2395, 'bid': None, 'timeStamp': 1606885145.97189}}
127.0.0.1 - - [01/Dec/2020 23:59:05] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
- Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': None, 'text': 'I want to buy 2 eggs', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606885140857, 'timeStamp': 1606885142.3760645}}
127.0.0.1 - - [01/Dec/2020 23:59:07] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -