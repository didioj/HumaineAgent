 * Serving Flask app "agent-py.py"
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:14008/ (Press CTRL+C to quit)
- Entering setUtility
- Info received: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Message sending: {'status': 'Acknowledged', 'utility': {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}}
127.0.0.1 - - [02/Dec/2020 16:42:12] "[37mPOST /setUtility HTTP/1.1[0m" 200 -
- Entering startRound
- Info received: {'roundDuration': 300, 'roundNumber': 1, 'timestamp': '2020-12-02T21:42:14.222Z'}
- Returning message: {'status': 'Acknowledged'}
127.0.0.1 - - [02/Dec/2020 16:42:14] "[37mPOST /startRound HTTP/1.1[0m" 200 -
- Entering receiveMessage
- Remaining Time: 299.52812622070314
- Info received: {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}
- Entering processMessage
- Received message: {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'I want 1 egg', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.4633831169845479}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.4633831169845479}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.4633831169845479}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}, 'addressee': '', 'speaker': 'Human'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.4633831169845479}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}, 'addressee': '', 'speaker': 'Human'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.4633831169845479}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}, 'addressee': '', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.4633831169845479}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}]
- input from watsonResponse: {'speaker': 'Human', 'addressee': '', 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692}
- intents:  [{'intent': 'Offer', 'confidence': 0.4633831169845479}]
- entities:  [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}]
- Found entities: []
- entered extractPrice
- entities given: []
- Returning price: None
- Received price: None
- Returning offer: {'quantity': {'egg': 1}, 'price': None}
- entered extractAddressee
- Received entities: [{'entity': 'sys-number', 'location': [7, 8], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [9, 12], 'value': 'egg', 'confidence': 1}]
- cmd leaving interpretMessage: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- Received interpretation: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- Message from buyer not addressed to me. Need to wait for other agent to respond
- Added to bidHistory: {'Human': [{'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}]}
- Human's history: [{'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}]
- Most recent human history: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- Most recent human history should be: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- No change to bidHistory. Going to make offer
- Entering bulkPriceMessage
- received interpretation: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- Entering generateBid
- Received offer: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- BidBlock: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- BidBlock['type']: BuyRequest
- Recent offers: []
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- no currency units provided
- Returning utility: -0.29
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- no currency units provided
- Returning utility: -0.29
- Total items: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- Total cost of items (should be negative): -0.29
- Utility received: -0.29
Relevant Offers: []
- Last price: None
- Last offer: None
- Remaining time: 294.59935791015624
- Buyer did not propose price or other agent made an offer. Going to generate price
- No history of any SellOffers. Going to propose price
- Going to markup price by 2.1701424912162683
- Entering quantize
- Received quantity: 0.3393413224527178
- Received decimals: 2
- Returning value: 0.34
- Returning bid: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.34}}
- Entering translateBid
- Received bid: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.34}}
- Received confirm: False
- bid is a SellOffer
- Returning response: How about if I sell you 1 egg for 0.34 USD.
- Bid message from processMessage: {'text': 'How about if I sell you 1 egg for 0.34 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339629.0798, 'bid': None}
- Sending message: {'text': 'How about if I sell you 1 egg for 0.34 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339629.0798, 'bid': None}
- Sending message to orchestrator: {'text': 'How about if I sell you 1 egg for 0.34 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339629.0798, 'bid': None}
- Entering receiveRejection
- Remaining Time: 294.58604541015626
- Info received: {'text': 'How about if I sell you 1 egg for 0.34 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339629.0798, 'bid': None, 'rationale': 'Agents speaking at same time'}
- Entering receiveMessage
- Remaining Time: 294.58504736328126
- Received message: {'text': 'How about if I sell you 1 egg for 0.34 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339629.0798, 'bid': None, 'rationale': 'Agents speaking at same time'}
- Info received: {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}
- Returning response: {'status': 'Acknowledged', 'message': {'text': 'How about if I sell you 1 egg for 0.34 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339629.0798, 'bid': None, 'rationale': 'Agents speaking at same time'}}
127.0.0.1 - - [02/Dec/2020 16:42:19] "[37mPOST /receiveRejection HTTP/1.1[0m" 200 -
- Entering processMessage
- Received message: {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'How about if I sell you 1 egg for 0.85 USD.', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9234398365020753}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9234398365020753}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.9234398365020753}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}, 'addressee': 'Human', 'speaker': 'Watson'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.9234398365020753}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}, 'addressee': 'Human', 'speaker': 'Watson'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.9234398365020753}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}, 'addressee': 'Human', 'speaker': 'Watson', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.9234398365020753}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}]
- input from watsonResponse: {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None}
- intents:  [{'intent': 'Offer', 'confidence': 0.9234398365020753}]
- entities:  [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}}]
- Found entities: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}, 'index': 2}]
- entered extractPrice
- entities given: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.85', 'confidence': 1, 'metadata': {'numeric_value': 0.85, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.85, 'unit': 'USD'}, 'index': 2}]
- Returning price: {'value': 0.85, 'unit': 'USD'}
- Received price: {'value': 0.85, 'unit': 'USD'}
- Returning offer: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}}
- cmd leaving interpretMessage: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- Received interpretation: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- Message from another seller. Need to make an offer!
- Message type: SellOffer
- Other agent made a sell offer!
- Entering generateBid
- Received offer: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- BidBlock: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- BidBlock['type']: BuyRequest
- BidBlock: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- BidBlock['type']: SellOffer
- Recent offers: [{'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}]
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- Currency units match
- Returning utility: -0.29
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- no currency units provided
- Returning utility: -0.29
- Total items: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- Total cost of items (should be negative): -0.29
- Utility received: -0.29
Relevant Offers: [{'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}]
- Last price: 0.85
- Last offer: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- Remaining time: 292.0055559082031
- Buyer did not propose price or other agent made an offer. Going to generate price
- A SellOffer has been made before
- My recent offers: []
- lastPrice can still be reduced
- This is the lowest offer so far. Going to reduce
- Calcuated last markupRatio: 1.931034482758621
- Going to markup price by 3.731657441377015
- Entering quantize
- Received quantity: 0.7921806579993343
- Received decimals: 2
- Returning value: 0.79
- Returning bid: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.79}}
- Entering translateBid
- Received bid: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.79}}
- Received confirm: False
- bid is a SellOffer
- Returning response: How about if I sell you 1 egg for 0.79 USD.
- Returning bidResponse: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.79}}}
- Bid message from processMessage: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.79}}}
- Sending message: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.79}}}
- Sending message to orchestrator: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.79}}}
- Entering receiveMessage
- Remaining Time: 291.99458447265624
- Info received: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}
- This message is from me!
- Entering processMessage
- Received message: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'How about if I sell you 1 egg for 0.79 USD.', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9260384559631347}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9260384559631347}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.9260384559631347}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}, 'addressee': 'Human', 'speaker': 'Celia'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.9260384559631347}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}, 'addressee': 'Human', 'speaker': 'Celia'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.9260384559631347}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}, 'addressee': 'Human', 'speaker': 'Celia', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.9260384559631347}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}]
- input from watsonResponse: {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826}
- intents:  [{'intent': 'Offer', 'confidence': 0.9260384559631347}]
- entities:  [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}}]
- Found entities: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}, 'index': 2}]
- entered extractPrice
- entities given: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.79', 'confidence': 1, 'metadata': {'numeric_value': 0.79, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.79, 'unit': 'USD'}, 'index': 2}]
- Returning price: {'value': 0.79, 'unit': 'USD'}
- Received price: {'value': 0.79, 'unit': 'USD'}
- Returning offer: {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}}
- cmd leaving interpretMessage: {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}
- Received interpretation: {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}
- Received own message
- Adding message to bidHistory
- bidHistory: {'Human': [{'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}, {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}, {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}]}
- Bid message from processMessage: None
- Returning response: {'status': 'Acknowledged', 'interpretation': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}
127.0.0.1 - - [02/Dec/2020 16:42:22] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
- Entering receiveMessage
- Remaining Time: 290.38128076171876
- Info received: {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}
- Entering processMessage
- Received message: {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'I want 2 cakes', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}
- Returning Watson response: {'intents': [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}, 'addressee': '', 'speaker': 'Human'}
- Received message classification: {'intents': [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}, 'addressee': '', 'speaker': 'Human'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}], 'entities': [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}, 'addressee': '', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}]
- input from watsonResponse: {'speaker': 'Human', 'addressee': '', 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837}
- intents:  [{'intent': 'BundleRequest', 'confidence': 0.34105670299554736}]
- entities:  [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}]
- Found entities: []
- entered extractPrice
- entities given: []
- Returning price: None
- Received price: None
- Returning offer: {'quantity': {'cake': 2}, 'price': None}
- entered extractAddressee
- Received entities: [{'entity': 'sys-number', 'location': [7, 8], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'bundle', 'location': [9, 14], 'value': 'cake', 'confidence': 1}]
- cmd leaving interpretMessage: {'quantity': {'cake': 2}, 'type': 'BundleRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}
- Received interpretation: {'quantity': {'cake': 2}, 'type': 'BundleRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}
- Message from buyer not addressed to me. Need to wait for other agent to respond
- Added to bidHistory: {'Human': [{'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}, {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}, {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}, {'quantity': {'cake': 2}, 'type': 'BundleRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}]}
- Entering receiveMessage
- Remaining Time: 289.59325927734375
- Info received: {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}
- Entering processMessage
- Received message: {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'How about if I sell you 1 egg for 0.74 USD.', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9282384395599366}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9282384395599366}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.9282384395599366}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}, 'addressee': 'Human', 'speaker': 'Watson'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.9282384395599366}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}, 'addressee': 'Human', 'speaker': 'Watson'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.9282384395599366}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}, 'addressee': 'Human', 'speaker': 'Watson', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.9282384395599366}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}]
- input from watsonResponse: {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328}
- intents:  [{'intent': 'Offer', 'confidence': 0.9282384395599366}]
- entities:  [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}}]
- Found entities: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}, 'index': 2}]
- entered extractPrice
- entities given: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.74', 'confidence': 1, 'metadata': {'numeric_value': 0.74, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.74, 'unit': 'USD'}, 'index': 2}]
- Returning price: {'value': 0.74, 'unit': 'USD'}
- Received price: {'value': 0.74, 'unit': 'USD'}
- Returning offer: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}}
- cmd leaving interpretMessage: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- Received interpretation: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- Message from another seller. Need to make an offer!
- Message type: SellOffer
- Other agent made a sell offer!
- Entering generateBid
- Received offer: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- BidBlock: {'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}
- BidBlock['type']: BuyRequest
- BidBlock: {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}
- BidBlock['type']: SellOffer
- BidBlock: {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}
- BidBlock['type']: SellOffer
- BidBlock: {'quantity': {'cake': 2}, 'type': 'BundleRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}
- BidBlock['type']: BundleRequest
- BidBlock: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- BidBlock['type']: SellOffer
- Recent offers: [{'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}, {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}, {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}]
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- Currency units match
- Returning utility: -0.29
- Entering calculateUtilityAgent
- Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.29}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.94}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.77}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.37}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.27}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.29}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
- Received bundle: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- no currency units provided
- Returning utility: -0.29
- Total items: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- Total cost of items (should be negative): -0.29
- Utility received: -0.29
Relevant Offers: [{'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}, {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}, {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}]
- Last price: 0.74
- Last offer: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- Remaining time: 287.19512841796876
- Buyer did not propose price or other agent made an offer. Going to generate price
- A SellOffer has been made before
- My recent offers: [{'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}]
- We've made a SellOffer before!
- myLastPrice: 0.79
- lastPrice can still be reduced
- This is the lowest offer so far. Going to reduce
- Calcuated last markupRatio: 1.5517241379310347
- Going to markup price by 3.190777376586354
- Entering quantize
- Received quantity: 0.6353254392100426
- Received decimals: 2
- Returning value: 0.64
- Returning bid: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.64}}
- Entering translateBid
- Received bid: {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.64}}
- Received confirm: False
- bid is a SellOffer
- Returning response: How about if I sell you 1 egg for 0.64 USD.
- Returning bidResponse: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.64}}}
- Bid message from processMessage: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.64}}}
- Sending message: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.64}}}
- Sending message to orchestrator: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'bid': {'quantity': {'egg': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.64}}}
- Entering receiveMessage
- Remaining Time: 287.1791708984375
- Info received: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}
- This message is from me!
- Entering processMessage
- Received message: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}
- Entering classifyMessage
- Passsing params into WatsonAssistant: {'assistantId': 'fccf0c80-4760-4ddd-9f89-46319fc5a195', 'input': {'message_type': 'text', 'text': 'How about if I sell you 1 egg for 0.64 USD.', 'options': {'alternate_intents': True, 'return_context': True}}, 'sessionId': None}
- Human's history: [{'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}, {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}, {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}, {'quantity': {'cake': 2}, 'type': 'NotUnderstood', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}, {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}]
- Most recent human history: {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}
- Most recent human history should be: {'quantity': {'cake': 2}, 'type': 'NotUnderstood', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}
- bidHistory changed, or last offer wasn't a BuyOffer or BuyRequest. Going to do nothing.
- Bid message from processMessage: None
- Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}
127.0.0.1 - - [02/Dec/2020 16:42:27] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
- Response from WatsonAssistant [except]: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9304346084594728}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Entering translateWatsonResponse
- Received response: {'output': {'intents': [{'intent': 'Offer', 'confidence': 0.9304346084594728}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}]}}
- Received input_: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}
- Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.9304346084594728}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}, 'addressee': 'Human', 'speaker': 'Celia'}
- Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.9304346084594728}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}, 'addressee': 'Human', 'speaker': 'Celia'}
- entered interpretMessage
- Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.9304346084594728}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}, 'addressee': 'Human', 'speaker': 'Celia', 'environmentUUID': 'abcdefg'}
- intents from watsonResponse: [{'intent': 'Offer', 'confidence': 0.9304346084594728}]
- entities from watsonResponse: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}]
- input from watsonResponse: {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307}
- intents:  [{'intent': 'Offer', 'confidence': 0.9304346084594728}]
- entities:  [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}]
- keywords: []
- entered extractOfferFromEntities
- Received entityList: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 29], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}}]
- Found entities: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}, 'index': 2}]
- entered extractPrice
- entities given: [{'entity': 'sys-currency', 'location': [34, 42], 'value': '0.64', 'confidence': 1, 'metadata': {'numeric_value': 0.64, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.64, 'unit': 'USD'}, 'index': 2}]
- Returning price: {'value': 0.64, 'unit': 'USD'}
- Received price: {'value': 0.64, 'unit': 'USD'}
- Returning offer: {'quantity': {'egg': 1}, 'price': {'value': 0.64, 'unit': 'USD'}}
- cmd leaving interpretMessage: {'quantity': {'egg': 1}, 'price': {'value': 0.64, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'timeStamp': 1606945347.780586}}
- Received interpretation: {'quantity': {'egg': 1}, 'price': {'value': 0.64, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'timeStamp': 1606945347.780586}}
- Received own message
- Adding message to bidHistory
- bidHistory: {'Human': [{'quantity': {'egg': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 1 egg', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945334692, 'timeStamp': 1606945336.6197114}}, {'quantity': {'egg': 1}, 'price': {'value': 0.85, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.85 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945339627.085, 'bid': None, 'timeStamp': 1606945340.2176337}}, {'quantity': {'egg': 1}, 'price': {'value': 0.79, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.79 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945342222.8826, 'timeStamp': 1606945342.6094444}}, {'quantity': {'cake': 2}, 'type': 'NotUnderstood', 'metadata': {'speaker': 'Human', 'addressee': None, 'text': 'I want 2 cakes', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1606945343837, 'timeStamp': 1606945344.2479575}}, {'quantity': {'egg': 1}, 'price': {'value': 0.74, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.74 USD.', 'speaker': 'Watson', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945344625.8328, 'timeStamp': 1606945345.0263038}}, {'quantity': {'egg': 1}, 'price': {'value': 0.64, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'timeStamp': 1606945347.780586}}]}
- Bid message from processMessage: None
- Returning response: {'status': 'Acknowledged', 'interpretation': {'text': 'How about if I sell you 1 egg for 0.64 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1606945347034.307, 'timeStamp': 1606945347.780586}}
127.0.0.1 - - [02/Dec/2020 16:42:27] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -