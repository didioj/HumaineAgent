C:\Users\lingc\OneDrive\Documents\RPI\Fall_2020\CognitiveComputing\Project_1\HumaineAgent>flask run --port 14008
 * Serving Flask app "agent-py.py"
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:14008/ (Press CTRL+C to quit)
Entering setUtility
Info received: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.27}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.96}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.67}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.34}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.37}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.39}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
Message sending: {'status': 'Acknowledged', 'utility': {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.27}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.96}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.67}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.34}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.37}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.39}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}}
127.0.0.1 - - [21/Oct/2020 16:26:42] "[37mPOST /setUtility HTTP/1.1[0m" 200 -
Entering startRound
Info received: {'roundDuration': 300, 'roundNumber': 1, 'timestamp': '2020-10-21T20:26:52.514Z'}
Returning message: {'status': 'Acknowledged'}
127.0.0.1 - - [21/Oct/2020 16:26:52] "[37mPOST /startRound HTTP/1.1[0m" 200 -
Entering receiveMessage
Remaining Time: 298.8640849609375
Info received: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661}
Entering processMessage
Received message: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.9748125076293945}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [27, 28], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [29, 33], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-number', 'location': [38, 39], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [40, 49], 'value': 'chocolate', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661}, 'addressee': 'Celia', 'speaker': 'Human'}
Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.9748125076293945}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [27, 28], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [29, 33], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-number', 'location': [38, 39], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [40, 49], 'value': 'chocolate', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661}, 'addressee': 'Celia', 'speaker': 'Human'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.9748125076293945}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [27, 28], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [29, 33], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-number', 'location': [38, 39], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [40, 49], 'value': 'chocolate', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661}, 'addressee': 'Celia', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
entered extractOfferFromEntities
Received entityList: [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [27, 28], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [29, 33], 'value': 'egg', 'confidence': 1}, {'entity': 'sys-number', 'location': [38, 39], 'value': '2', 'confidence': 1, 'metadata': {'numeric_value': 2}, 'interpretation': {'numeric_value': 2, 'subtype': 'integer'}}, {'entity': 'good', 'location': [40, 49], 'value': 'chocolate', 'confidence': 1}]
Found entities: [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1, 'index': 0}]
entered extractPrice
entities given: [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1, 'index': 0}]
Returning price: {'value': 0, 'unit': 'USD'}
Received price: {'value': 0, 'unit': 'USD'}
Returning offer: {'quantity': {'egg': 2, 'chocolate': 2}, 'price': {'value': 0, 'unit': 'USD'}}
cmd leaving interpretMessage: {'quantity': {'egg': 2, 'chocolate': 2}, 'price': {'value': 0, 'unit': 'USD'}, 'type': 'BuyOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661, 'timeStamp': 1603312015.180466}}
Received interpretation: {'quantity': {'egg': 2, 'chocolate': 2}, 'price': {'value': 0, 'unit': 'USD'}, 'type': 'BuyOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661, 'timeStamp': 1603312015.180466}}
Message from buyer to me
Entering mayIRespond
Returning reponse: True
Buyer is making an BuyRequest
Entering generateBid
Received offer: {'quantity': {'egg': 2, 'chocolate': 2}, 'price': {'value': 0, 'unit': 'USD'}, 'type': 'BuyOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661, 'timeStamp': 1603312015.180466}}
My recent offers: []
My last price: None
Remaining time: 297.3166672363281
Entering calculateUtilityAgent
Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.27}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.96}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.67}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.34}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.37}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.39}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.23}}}, 'name': 'Celia'}
Received bundle: {'quantity': {'egg': 2, 'chocolate': 2}, 'price': {'value': 0, 'unit': 'USD'}, 'type': 'BuyOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661, 'timeStamp': 1603312015.180466}}
no currency units provided
Returning utility: -1.28
Utility received: -1.28
Buyer did not propose price. Going to generate price
Entering quantize
Received quantity: 2.2754136901391373
Received decimals: 2
Returning value: 2.28
Returning bid: {'quantity': {'egg': 2, 'chocolate': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 2.28}}
Entering translateBid
Received bid: {'quantity': {'egg': 2, 'chocolate': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 2.28}}
Received confirm: False
bid is a SellOffer
Returning response: How about if I sell you 2 egg 2 chocolate for 2.28 USD.
Returning bidResponse: {'text': 'How about if I sell you 2 egg 2 chocolate for 2.28 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312015283.4727, 'bid': {'quantity': {'egg': 2, 'chocolate': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 2.28}}}
Bid message from processMessage: {'text': 'How about if I sell you 2 egg 2 chocolate for 2.28 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312015283.4727, 'bid': {'quantity': {'egg': 2, 'chocolate': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 2.28}}}
Sending message: {'text': 'How about if I sell you 2 egg 2 chocolate for 2.28 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312015283.4727, 'bid': {'quantity': {'egg': 2, 'chocolate': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 2.28}}}
Sending message to orchestrator: {'text': 'How about if I sell you 2 egg 2 chocolate for 2.28 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312015283.4727, 'bid': {'quantity': {'egg': 2, 'chocolate': 2}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 2.28}}}
Entering receiveMessage
Remaining Time: 297.23662817382814
Info received: {'text': 'How about if I sell you 2 egg 2 chocolate for 2.28 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312015283.4727}
This message is from me!
Returning response: {'status': 'Acknowledged', 'interpretation': {'text': 'How about if I sell you 2 egg 2 chocolate for 2.28 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312015283.4727}}
127.0.0.1 - - [21/Oct/2020 16:26:55] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia, I would like to buy 2 eggs and 2 chocolate', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312013661, 'timeStamp': 1603312015.180466}}
127.0.0.1 - - [21/Oct/2020 16:26:55] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
Entering receiveMessage
Remaining Time: 288.99038720703123
Info received: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536}
Entering processMessage
Received message: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.9483665943145752}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536}, 'addressee': 'Celia', 'speaker': 'Human'}
Received message classification: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.9483665943145752}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536}, 'addressee': 'Celia', 'speaker': 'Human'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.9483665943145752}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536}, 'addressee': 'Celia', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
cmd leaving interpretMessage: {'type': 'AcceptOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536, 'timeStamp': 1603312024.1633804}}
Received interpretation: {'type': 'AcceptOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536, 'timeStamp': 1603312024.1633804}}
Message from buyer to me
Buyer accepted offer
Returning message: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312024166.332}
Bid message from processMessage: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312024166.332}
Sending message: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312024166.332}
Sending message to orchestrator: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312024166.332}
Entering receiveMessage
Remaining Time: 288.3417956542969
Info received: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312024166.332}
This message is from me!
Returning response: {'status': 'Acknowledged', 'interpretation': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603312024166.332}}
127.0.0.1 - - [21/Oct/2020 16:27:04] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603312023536, 'timeStamp': 1603312024.1633804}}
127.0.0.1 - - [21/Oct/2020 16:27:04] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -