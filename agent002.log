 * Serving Flask app "agent-py.py"
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:14008/ (Press CTRL+C to quit)
127.0.0.1 - - [22/Oct/2020 03:42:03] "[37mPOST /setUtility HTTP/1.1[0m" 200 -
127.0.0.1 - - [22/Oct/2020 03:42:08] "[37mPOST /startRound HTTP/1.1[0m" 200 -
Entering setUtility
Info received: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.34}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.63}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.99}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.32}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.38}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.47}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.4}}}, 'name': 'Celia'}
Message sending: {'status': 'Acknowledged', 'utility': {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.34}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.63}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.99}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.32}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.38}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.47}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.4}}}, 'name': 'Celia'}}
Entering startRound
Info received: {'roundDuration': 300, 'roundNumber': 1, 'timestamp': '2020-10-22T07:42:08.417Z'}
Returning message: {'status': 'Acknowledged'}
Entering receiveMessage
Remaining Time: 296.22513037109377
Info received: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181}
Entering processMessage
Received message: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.4786182141963422}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [13, 14], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [15, 26], 'value': 'milk', 'confidence': 0.91}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181}, 'addressee': 'Celia', 'speaker': 'Human'}
Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.4786182141963422}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [13, 14], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [15, 26], 'value': 'milk', 'confidence': 0.91}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181}, 'addressee': 'Celia', 'speaker': 'Human'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.4786182141963422}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [13, 14], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [15, 26], 'value': 'milk', 'confidence': 0.91}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181}, 'addressee': 'Celia', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
entered extractOfferFromEntities
Received entityList: [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}, {'entity': 'sys-number', 'location': [13, 14], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [15, 26], 'value': 'milk', 'confidence': 0.91}]
Found entities: [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1, 'index': 0}]
entered extractPrice
entities given: [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1, 'index': 0}]
Returning price: None
Received price: None
Returning offer: {'quantity': {'milk': 1}, 'price': None}
cmd leaving interpretMessage: {'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}
Received interpretation: {'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}
Message from buyer to me
Entering mayIRespond
Returning reponse: True
Buyer is making an BuyRequest
Entering generateBid
Received offer: {'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}
BidBlock: {'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}
BidBlock['type']: BuyRequest
My recent offers: []
My last price: None
Remaining time: 294.8256398925781
Entering calculateUtilityAgent
Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.34}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.63}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.99}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.32}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.38}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.47}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.4}}}, 'name': 'Celia'}
Received bundle: {'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}
no currency units provided
Returning utility: -0.32
Utility received: -0.32
Buyer did not propose price. Going to generate price
Going to markup price by 2.2371795842155926
Entering quantize
Received quantity: 0.39589746694898964
Received decimals: 2
Returning value: 0.4
Returning bid: {'quantity': {'milk': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.4}}
Entering translateBid
Received bid: {'quantity': {'milk': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.4}}
Received confirm: False
bid is a SellOffer
Returning response: How about if I sell you 1 milk for 0.4 USD.
Returning bidResponse: {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'bid': {'quantity': {'milk': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.4}}}127.0.0.1 - - [22/Oct/2020 03:42:14] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -

Bid message from processMessage: {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'bid': {'quantity': {'milk': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.4}}}
Sending message: {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'bid': {'quantity': {'milk': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.4}}}
Sending message to orchestrator: {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'bid': {'quantity': {'milk': 1}, 'type': 'SellOffer', 'price': {'unit': 'USD', 'value': 0.4}}}
Entering receiveMessage
Remaining Time: 294.8167189941406
Info received: {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732}
This message is from me!
Entering processMessage
Received message: {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'Offer', 'confidence': 0.8766347408294679}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 30], 'value': 'milk', 'confidence': 1}, {'entity': 'sys-number', 'location': [35, 38], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4}, 'interpretation': {'numeric_value': 0.4, 'subtype': 'rational'}}, {'entity': 'sys-currency', 'location': [35, 42], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.4, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732}, 'addressee': 'Human', 'speaker': 'Celia'}
Received message classification: {'intents': [{'intent': 'Offer', 'confidence': 0.8766347408294679}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 30], 'value': 'milk', 'confidence': 1}, {'entity': 'sys-number', 'location': [35, 38], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4}, 'interpretation': {'numeric_value': 0.4, 'subtype': 'rational'}}, {'entity': 'sys-currency', 'location': [35, 42], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.4, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732}, 'addressee': 'Human', 'speaker': 'Celia'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'Offer', 'confidence': 0.8766347408294679}], 'entities': [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 30], 'value': 'milk', 'confidence': 1}, {'entity': 'sys-number', 'location': [35, 38], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4}, 'interpretation': {'numeric_value': 0.4, 'subtype': 'rational'}}, {'entity': 'sys-currency', 'location': [35, 42], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.4, 'unit': 'USD'}}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732}, 'addressee': 'Human', 'speaker': 'Celia', 'environmentUUID': 'abcdefg'}
entered extractOfferFromEntities
Received entityList: [{'entity': 'sys-number', 'location': [24, 25], 'value': '1', 'confidence': 1, 'metadata': {'numeric_value': 1}, 'interpretation': {'numeric_value': 1, 'subtype': 'integer'}}, {'entity': 'good', 'location': [26, 30], 'value': 'milk', 'confidence': 1}, {'entity': 'sys-number', 'location': [35, 38], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4}, 'interpretation': {'numeric_value': 0.4, 'subtype': 'rational'}}, {'entity': 'sys-currency', 'location': [35, 42], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.4, 'unit': 'USD'}}]
Found entities: [{'entity': 'sys-number', 'location': [35, 38], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4}, 'interpretation': {'numeric_value': 0.4, 'subtype': 'rational'}, 'index': 2}, {'entity': 'sys-currency', 'location': [35, 42], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.4, 'unit': 'USD'}, 'index': 3}]
entered extractPrice
entities given: [{'entity': 'sys-number', 'location': [35, 38], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4}, 'interpretation': {'numeric_value': 0.4, 'subtype': 'rational'}, 'index': 2}, {'entity': 'sys-currency', 'location': [35, 42], 'value': '0.4', 'confidence': 1, 'metadata': {'numeric_value': 0.4, 'unit': 'USD'}, 'interpretation': {'numeric_value': 0.4, 'unit': 'USD'}, 'index': 3}]
Returning price: {'value': 0.4, 'unit': 'USD'}
Received price: {'value': 0.4, 'unit': 'USD'}
Returning offer: {'quantity': {'milk': 1}, 'price': {'value': 0.4, 'unit': 'USD'}}
cmd leaving interpretMessage: {'quantity': {'milk': 1}, 'price': {'value': 0.4, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'timeStamp': 1603352534.467059}}
Received interpretation: {'quantity': {'milk': 1}, 'price': {'value': 0.4, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'timeStamp': 1603352534.467059}}
Received own message
Adding message to bidHistory
bidHistory: {'Human': [{'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}, {'quantity': {'milk': 1}, 'price': {'value': 0.4, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'timeStamp': 1603352534.467059}}]}
Bid message from processMessage: None
Returning response: {'status': 'Acknowledged', 'interpretation': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'timeStamp': 1603352534.467059}}
Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}127.0.0.1 - - [22/Oct/2020 03:42:14] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -

Entering receiveMessage
Remaining Time: 287.4890598144531
Info received: {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928}
Entering processMessage
Received message: {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'RejectOffer', 'confidence': 0.8150001049041748}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928}, 'addressee': 'Celia', 'speaker': 'Human'}
Received message classification: {'intents': [{'intent': 'RejectOffer', 'confidence': 0.8150001049041748}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928}, 'addressee': 'Celia', 'speaker': 'Human'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'RejectOffer', 'confidence': 0.8150001049041748}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928}, 'addressee': 'Celia', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
cmd leaving interpretMessage: {'type': 'RejectOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928, 'timeStamp': 1603352541.7792158}}
Received interpretation: {'type': 'RejectOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928, 'timeStamp': 1603352541.7792158}}
Message from buyer to me
Buyer rejected offer
Entering generateBid
Received offer: {'type': 'RejectOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928, 'timeStamp': 1603352541.7792158}}
BidBlock: {'quantity': {'milk': 1}, 'type': 'BuyRequest', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I want 1 cup of milk', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352532181, 'timeStamp': 1603352533.5977733}}
BidBlock['type']: BuyRequest
BidBlock: {'quantity': {'milk': 1}, 'price': {'value': 0.4, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'timeStamp': 1603352534.467059}}
BidBlock['type']: SellOffer
BidBlock: {'type': 'RejectOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928, 'timeStamp': 1603352541.7792158}}
BidBlock['type']: RejectOffer
My recent offers: [{'quantity': {'milk': 1}, 'price': {'value': 0.4, 'unit': 'USD'}, 'type': 'SellOffer', 'metadata': {'text': 'How about if I sell you 1 milk for 0.4 USD.', 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352533597.7732, 'timeStamp': 1603352534.467059}}]
My last price: 0.4
Remaining time: 286.644197265625
Entering calculateUtilityAgent
Received utilityInfo: {'currencyUnit': 'USD', 'utility': {'egg': {'type': 'unitcost', 'unit': 'each', 'parameters': {'unitcost': 0.34}}, 'flour': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.63}}, 'sugar': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.99}}, 'milk': {'type': 'unitcost', 'unit': 'cup', 'parameters': {'unitcost': 0.32}}, 'chocolate': {'type': 'unitcost', 'unit': 'ounce', 'parameters': {'unitcost': 0.38}}, 'blueberry': {'type': 'unitcost', 'unit': 'packet', 'parameters': {'unitcost': 0.47}}, 'vanilla': {'type': 'unitcost', 'unit': 'teaspoon', 'parameters': {'unitcost': 0.4}}}, 'name': 'Celia'}
Received bundle: {'type': 'RejectOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928, 'timeStamp': 1603352541.7792158}, 'quantity': {'milk': 1}}
no currency units provided
Returning utility: -0.32
Utility received: -0.32
Buyer did not propose price. Going to generate price
Reached minMarkupRatio: 1.25
Entering translateBid
Received bid: {'quantity': {'milk': 1}, 'type': 'MinMarkup', 'price': None}
Received confirm: False
bid is a minMarkup
Returning random messge: That's the best I can do. You won't find a better deal out there!
Returning response: That's the best I can do. You won't find a better deal out there!
Bid message from processMessage: {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158, 'bid': {'quantity': {'milk': 1}, 'type': 'MinMarkup', 'price': None}}
Sending message: {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158, 'bid': {'quantity': {'milk': 1}, 'type': 'MinMarkup', 'price': None}}
Sending message to orchestrator: {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158, 'bid': {'quantity': {'milk': 1}, 'type': 'MinMarkup', 'price': None}}
Entering receiveMessage
Remaining Time: 286.6362194824219
Info received: {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158}
This message is from me!
Entering processMessage
Received message: {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.31398071345690254}], 'entities': [], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158}, 'addressee': 'Human', 'speaker': 'Celia'}
Received message classification: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.31398071345690254}], 'entities': [], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158}, 'addressee': 'Human', 'speaker': 'Celia'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.31398071345690254}], 'entities': [], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158}, 'addressee': 'Human', 'speaker': 'Celia', 'environmentUUID': 'abcdefg'}127.0.0.1 - - [22/Oct/2020 03:42:22] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
127.0.0.1 - - [22/Oct/2020 03:42:22] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
127.0.0.1 - - [22/Oct/2020 03:42:31] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -
127.0.0.1 - - [22/Oct/2020 03:42:31] "[37mPOST /receiveMessage HTTP/1.1[0m" 200 -

cmd leaving interpretMessage: {'type': 'AcceptOffer', 'metadata': {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158, 'timeStamp': 1603352542.7006574}}
Received interpretation: {'type': 'AcceptOffer', 'metadata': {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158, 'timeStamp': 1603352542.7006574}}
Received own message
Offer complete. Clearing history
Bid message from processMessage: None
Returning response: {'status': 'Acknowledged', 'interpretation': {'text': "That's the best I can do. You won't find a better deal out there!", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352541779.2158, 'timeStamp': 1603352542.7006574}}
Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': 'Celia', 'text': "Celia I don't like your offer", 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352540928, 'timeStamp': 1603352541.7792158}}
Entering receiveMessage
Remaining Time: 279.0611413574219
Info received: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355}
Entering processMessage
Received message: {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.9483665943145752}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355}, 'addressee': 'Celia', 'speaker': 'Human'}
Received message classification: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.9483665943145752}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355}, 'addressee': 'Celia', 'speaker': 'Human'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'AcceptOffer', 'confidence': 0.9483665943145752}], 'entities': [{'entity': 'avatarName', 'location': [0, 5], 'value': 'Celia', 'confidence': 1}], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355}, 'addressee': 'Celia', 'speaker': 'Human', 'environmentUUID': 'abcdefg'}
cmd leaving interpretMessage: {'type': 'AcceptOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355, 'timeStamp': 1603352550.0725038}}
Received interpretation: {'type': 'AcceptOffer', 'metadata': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355, 'timeStamp': 1603352550.0725038}}
Message from buyer to me
Buyer accepted offer
Checking bidHistory: {'Human': None}
Returning message: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}
Bid message from processMessage: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}
Sending message: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}
Sending message to orchestrator: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}
Entering receiveMessage
Remaining Time: 278.3399384765625
Info received: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}
This message is from me!
Entering processMessage
Received message: {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}
Entering translateWatsonResponse
Returning Watson response: {'intents': [{'intent': 'RejectOffer', 'confidence': 0.2538539350416613}], 'entities': [], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}, 'addressee': 'Human', 'speaker': 'Celia'}
Received message classification: {'intents': [{'intent': 'RejectOffer', 'confidence': 0.2538539350416613}], 'entities': [], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}, 'addressee': 'Human', 'speaker': 'Celia'}
entered interpretMessage
Received watsonResponse: {'intents': [{'intent': 'RejectOffer', 'confidence': 0.2538539350416613}], 'entities': [], 'generic': [{'response_type': 'text', 'text': "I didn't understand. You can try rephrasing."}], 'input': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504}, 'addressee': 'Human', 'speaker': 'Celia', 'environmentUUID': 'abcdefg'}
cmd leaving interpretMessage: {'type': 'RejectOffer', 'metadata': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504, 'timeStamp': 1603352551.0748255}}
Received interpretation: {'type': 'RejectOffer', 'metadata': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504, 'timeStamp': 1603352551.0748255}}
Received own message
Offer complete. Clearing history
Bid message from processMessage: None
Returning response: {'status': 'Acknowledged', 'interpretation': {'text': "I'm sorry, but I'm not aware of any outstanding offers.", 'speaker': 'Celia', 'role': 'seller', 'addressee': 'Human', 'environmentUUID': 'abcdefg', 'timestamp': 1603352550072.504, 'timeStamp': 1603352551.0748255}}
Returning response: {'status': 'Acknowledged', 'interpretation': {'speaker': 'Human', 'addressee': 'Celia', 'text': 'Celia I accept your offer', 'role': 'buyer', 'environmentUUID': 'abcdefg', 'timestamp': 1603352549355, 'timeStamp': 1603352550.0725038}}
